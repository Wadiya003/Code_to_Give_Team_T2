<!doctype html>
<html lang="en">
<style>
    ul {
        padding: 0%;
        margin: 0 0 0 150px;
        list-style: none;
    }

    nav {
        width: 100%;
        overflow: auto;
        background: black;
    }

    li {
        float: left;
    }

    .logo img {
        position: absolute;
        margin-top: 15px;
        margin-left: 10px;

    }

    nav a {
        width: 100px;
        display: block;
        padding: 20px 15px;
        text-decoration: none;
        font-family: Arial;
        color: #f2f2f2;
        text-align: center;
    }


    .footer {
        padding: 10px 0;
        background-color: #101010;
        color: #9d9d9d;
        bottom: 0;
        width: 100%;

        bottom: 0;
    }

    .l {
        float: right;
        align-items: right;
    }

    .shift {
        float: right;
    }
</style>

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Button trigger modal -->
    <!-- Latest compiled and minified CSS -->


    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="//cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <title>AdminView</title>
</head>

<body>

    <div class="logo"><a href="#"><img
                src="data:image/png;base64,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"
                height="40px" width="120px"></a></div>
    <nav>
        <ul>
            <li><a href="#">Home</a></li>
            <li><a href="#">Event</a></li>

            <li><a href="#">
                    <div style="position:absolute; right: 30px"><span class="glyphicon glyphicon-user"></span>SignOut
                    </div>
                </a></li>

        </ul>
    </nav>

    <div class="container my-4">

        <div class="row">
            <div class="col-sm-6">
                <h1>Volunteers</h1>
            </div>



        </div>

        <form id="myTable" action="/search/<%= act_id %>" method="post">
            <table class="table" id="myTable">

                <tr>
                    <td><input class="input1" type="checkbox" onchange="checkAll(this)" /></td>
                    <th scope="col"> Name </th>
                    <th scope="col"> Email </th>
                    <th scope="col"> Contact</th>
                    <th scope="col">Skills</th>
                    <th scope="col">Event Preferences</th>
                    <th scope="col"> Status </th>
                </tr>

                <% for(var i=0; i < mapped_vol.length; i++) { %>
                    <tr>
                        <td><input class="input1" type="checkbox" value="1" name="A[]>"
                            value="<%=mapped_vol[i].Mid%>" /></td>
                        <td>
                            <%= mapped_vol[i].fullname%>
                        </td>
                        <td>
                            <%= mapped_vol[i].email %>
                        </td>
                        <td>
                            <%= mapped_vol[i].contact %>
                        </td>
                        <td>
                            <%= mapped_vol[i].Skill1 %>,<%= mapped_vol[i].Skill2 %>,<%= mapped_vol[i].Skill3 %>
                        </td>
                        <td>
                            <%= mapped_vol[i].activity %>
                        </td>
                        <td>
                            <%= mapped_vol[i].status %>
                        </td>
                    </tr>
                    <% } %>

            </table>
            <div class="row">
                <div class="col-sm-6">
                    <button onclick="Reject()" class="btn btn-primary">Reject</button>
                    <button onclick="acceptChecked()" class="btn btn-primary">Mark as attended<br></button>
                    <button onclick="rejectChecked()" class="btn btn-primary">Mark as absent</button>
                </div>
            </div>
        </form>
        <script>
            function Reject(){
                document.getElementById("myTable").action = "/reject/<%= act_id %>";
                // document.getElementById("myTable").setAttribute("action", "/reject/<%= act_id %>");
            }
            function acceptChecked(){
                document.getElementById("myTable").action = "/attended/<%= act_id %>";
                // document.getElementById("myTable").setAttribute("action", "/reject/<%= act_id %>");
            }
            function rejectChecked(){
                document.getElementById("myTable").action = "/absent/<%= act_id %>";
                // document.getElementById("myTable").setAttribute("action", "/reject/<%= act_id %>");
            }
            function checkAll(e) {
                var checkboxes = document.getElementsByClassName('input1');
                if (e.checked) {
                    for (var i = 0; i < checkboxes.length; i++) {
                        if (checkboxes[i].type == 'checkbox') {
                            checkboxes[i].checked = 'true';
                        }
                    }
                }
                else {
                    for (var i = 0; i < checkboxes.length; i++) {
                        if (checkboxes[i].type == 'checkbox') {
                            checkboxes[i].checked = false;
                        }
                    }
                }
                return;
            };

        // function acceptChecked() {
        //     var result = "";
        //     var checkboxes = document.getElementsByTagName('input');
        //     for (var i = 0; i < checkboxes.length; i++) {
        //         if (checkboxes[i].type == 'checkbox' && checkboxes[i].checked) {
        //             result += "," + checkboxes[i].value;
        //         }
        //     }
        //     console.log("Send request to accept " + result);
        // };
        </script>
        <br>
        <!-- <button text="accept" name="vol_add" class="btn btn-primary">Accept</button> -->

    </div>




    <div class="container my-4">


        <h1>Search for Volunteers</h1>

        <br>

        <form action="/mapping/<%= act_id %>" method="post">
            <table class="table" id="myTable">
                <thead>
                    <tr>
                        <th scope="col"><input class="input2" type="checkbox" id="second" onchange="sendall(this)" />
                        </th>
                        <th scope="col"> Name </th>
                        <th scope="col"> Email </th>
                        <th scope="col"> Contact</th>
                        <th scope="col">Skills</th>
                        <th scope="col">Event Preferences</th>
                        <th scope="col">Status </th>



                    </tr>
                </thead>

                <tbody>

                    <% for(var i=0; i < matched_activity_types.length; i++) { %>
                        <% var found=false; %>
                            <% for(var j=0; j < mapped_vol.length; j++) { %>
                                <% if(mapped_vol[j].Aid==matched_activity_types[i].Aid &&
                                    mapped_vol[j].Vid==matched_activity_types[i].Vid){ %>
                                    <% found=true; %>
                                        <% break; %>
                                            <% } %>
                                                <% } %>

                                                    <% if(!found){ %>
                                                        <tr>
                                                            <td><input class="input2" type="checkbox" id="accept"
                                                                    name="v[]>"
                                                                    value="<%=matched_activity_types[i].Vid%>">
                                                                <label for="accept"></label><br>
                                                            </td>
                                                            <td>
                                                                <%= matched_activity_types[i].fullname %>
                                                            </td>
                                                            <td>
                                                                <%= matched_activity_types[i].email %>
                                                            </td>
                                                            <td>
                                                                <%= matched_activity_types[i].contact %>
                                                            </td>
                                                            <td>
                                                                <%= matched_activity_types[i].Skill1 %>,<%=
                                                                        matched_activity_types[i].Skill2 %>,<%=
                                                                            matched_activity_types[i].Skill3 %>
                                                            </td>
                                                            <td>
                                                                <%= matched_activity_types[i].activity %>
                                                            </td>
                                                            <!-- <td>Request</td> -->
                                                            <!-- <td></td> -->

                                                            <td>Not Requested</td>
                                                        </tr>
                                                        <% } %>
                                                            <% } %>
                </tbody>

            </table>
            <button type="submit" class="btn btn-primary">Send Request</button>
        </form>
        <script>
            function sendall(e) {
                var checkboxes = document.getElementsByClassName("input2")
                if (e.checked) {
                    for (var i = 0; i < checkboxes.length; i++) {
                        if (checkboxes[i].type == 'checkbox') {
                            checkboxes[i].checked = 'true';
                        }
                    }
                }
                else {
                    for (var i = 0; i < checkboxes.length; i++) {
                        if (checkboxes[i].type == 'checkbox') {
                            checkboxes[i].checked = false;
                        }
                    }
                }
                return;
            };

        // function acceptChecked1() {
        //     var result = "";
        //     var checkboxes = document.getElementsByTagName('input');
        //     for (var i = 0; i < checkboxes.length; i++) {
        //         if (checkboxes[i].type == 'checkbox' && checkboxes[i].checked) {
        //             result += "," + checkboxes[i].value;
        //         }
        //     }
        //     console.log("Send request to accept " + result);
        // };
        // function sendall2(e) {
        //     var checkboxes = document.getElementsByTagName('input');
        //     if (e.checked) {
        //         for (var i = 0; i < checkboxes.length; i++) {
        //             if (checkboxes[i].type == 'checkbox1') {
        //                 checkboxes[i].checked = 'true';
        //             }
        //         }
        //     }
        //     else {
        //         for (var i = 0; i < checkboxes.length; i++) {
        //             if (checkboxes[i].type == 'checkbox1') {
        //                 checkboxes[i].checked = false;
        //             }
        //         }
        //     }
        //     return;
        // };

        // function acceptChecked2() {
        //     var result = "";
        //     var checkboxes = document.getElementsByTagName('input');
        //     for (var i = 0; i < checkboxes.length; i++) {
        //         if (checkboxes[i].type == 'checkbox' && checkboxes[i].checked) {
        //             result += "," + checkboxes[i].value;
        //         }
        //     }
        //     console.log("Send request to accept " + result);
        // };
        </script>
    </div>
    </div>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
    <script src="//cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
    <script src="js/search.js"></script>




</body>

</html>